{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "NBA Shot Chart built from 1996-97 shots_log dataset",
  "width": 500,
  "height": 470,
  "background": "#0f0f0f",
  "data": {"url": "../data/shot_data.csv"},
  "transform": [
  {"filter": "datum.PLAYER_NAME == 'Michael Jordan'"},
  {"filter": "datum.LOC_X != 0 && datum.LOC_Y != 0"},
  {"calculate": "-datum.LOC_X", "as": "flipped_x"}
],
"layer": [
  {
    "data": {"url": "../data/half_court_detailed.json"},
    "mark": {"type": "line", "color": "#555", "strokeWidth": 1},
    "encoding": {
      "x": {"field": "x", "type": "quantitative"},
      "y": {"field": "y", "type": "quantitative"}
    }
  },
  {
    "mark": {"type": "circle", "size": 65, "opacity": 0.8},
    "encoding": {
      "x": {
        "field": "flipped_x",
        "type": "quantitative",
        "scale": {"domain": [-250, 250]},
        "axis": {"title": "Court X (inches)"}
      },
      "y": {
        "field": "LOC_Y",
        "type": "quantitative",
        "scale": {"domain": [470, 0]},
        "axis": {"title": "Court Y (inches)"}
      },
      "color": {
        "field": "SHOT_MADE_FLAG",
        "type": "nominal",
        "scale": {"domain": [1, 0], "range": ["#ff4b4b", "#56b0ff"]},
        "legend": {"title": "Shot Result"}
      },
      "tooltip": [
        {"field": "PLAYER_NAME"},
        {"field": "SHOT_TYPE"},
        {"field": "SHOT_DISTANCE", "title": "Distance (ft)"}
      ]
    }
  }
],
  "config": {
    "view": {"stroke": null},
    "axis": {
      "grid": false,
      "labelColor": "#aaa",
      "titleColor": "#aaa",
      "tickColor": "#555"
    }
  }
}
